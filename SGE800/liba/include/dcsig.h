/*****************************************************************************
	许继电气股份有限公司			版权：2008-2015

	本源代码及其相关文档为河南许昌许继电气股份有限公司独家所有，未经明文许
	可不得擅自修改或发布，否则将追究相关的法律责任。

						河南许昌许继股份有限公司
						www.xjgc.com
						(0374) 321 2924
*****************************************************************************/

/******************************************************************************
	项目名称	：  SGE800计量智能终端平台
	文件名	：  dcsig.h
	描述		：  本文件定义了直流模拟量模块接口
	版本		：  0.1
	作者		：  路冉冉
	创建日期	：  2010.4
******************************************************************************/
	
#ifndef _DCSIG_H
#define _DCSIG_H

#include "typedef.h"
/*************************************************
  宏定义
*************************************************/

/*************************************************
  结构类型定义
*************************************************/

/*************************************************
  API
*************************************************/
/******************************************************************************
*	函数:	dcsig_init
*	功能:	AD转换模块初始化
*	参数:	无
*	返回:	0				-	成功
			-ERR_BUSY		-	已经打开
*	说明:	其它错误为adc.h中关于adc_init()返回的错误
 ******************************************************************************/
int dcsig_init(void);

/******************************************************************************
*	函数:	dcsig_setwaittime
*	功能:	设置直流模拟量读取超时时间
*	参数:	timeout			-	超时时间
*	返回:	0				-	成功
*	说明:	timeout单位是100ms
 ******************************************************************************/
int dcsig_setwaittime(u16 timeout);

/******************************************************************************
*	函数:	dcsig_getwaittime
*	功能:	获取直流模拟量读取超时时间
*	参数:	timeout			-	超时时间（数据传出指针）
*	返回:	0				-	成功
*	说明:	timeout单位是100ms
 ******************************************************************************/
int dcsig_getwaittime(u16 *timeout);

/******************************************************************************
*	函数:	dcsig_read
*	功能:	读取直流模拟量结果
*	参数:	id				-	直流模拟量通道号
			result			-	放大10000倍的电压值（数据传出指针）
*	返回:	0				-	成功
*	说明:	其它错误为adc.h中关于adc_read()返回的错误
 ******************************************************************************/
int dcsig_read(u8 id, u32 *result);
/******************************************************************************
*	函数:	dcsig_close
*	功能:	关闭直流模拟量模块
*	参数:	无
*	返回:	0				-	成功
			-ERR_NOINIT		-	没有初始化
*	说明:	其它错误为adc.h中关于adc_close()返回的错误
 ******************************************************************************/
int dcsig_close(void);

#endif  /* _DCSIG_H */

