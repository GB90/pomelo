/*****************************************************************************
	许继电气股份有限公司			版权：2008-2015

	本源代码及其相关文档为河南许昌许继电气股份有限公司独家所有，未经明文许
	可不得擅自修改或发布，否则将追究相关的法律责任。

						河南许昌许继股份有限公司
						www.xjgc.com
						(0374) 321 2924
*****************************************************************************/


/******************************************************************************
	项目名称	：  SGE800计量智能终端业务平台
	文件		：  sdev_485.h
	描述		：  本文件定义了数据流设备485接口
	版本		：  0.1
	作者		：  孙锐
	创建日期	：  2010.4
******************************************************************************/
#ifndef SDEV_485_H_
#define SDEV_485_H_

/*************************************************
  API
*************************************************/
/******************************************************************************
*	函数:	sdev_485_init
*	功能:	485口初始化
*	参数:
*	返回:	0				-	成功(收到确认命令)
			-ERR_SYS		-	系统错误
*	说明:	无
******************************************************************************/
int sdev_485_init();

/******************************************************************************
*	函数:	sdev_485_setconfig
*	功能:	配置485口
*	参数:
*	返回:	0				-	成功
			-ERR_SYS		-	系统错误
			-ERR_INVAL		-	接口参数设置错误

*	说明:	无
******************************************************************************/
int sdev_485_setconfig(u8 cmd, void *cfg);

/******************************************************************************
*	函数:	sdev_485_getconfig
*	功能:	获取485口属性
*	参数:
*	返回:	0				-	成功
			-ERR_SYS		-	系统错误
			-ERR_INVAL		-	接口参数设置错误

*	说明:	无
******************************************************************************/
int sdev_485_getconfig(u8 cmd, void *cfg);

/******************************************************************************
*	函数:	sdev_485_send
*	功能:	485口发送数据
*	参数:	buf				-	发送数据起始指针
			count			-	发送数据长度
*	返回:	>0				-	成功(返回实际发送成功的字节数)
			-ERR_SYS		-	系统错误
			-ERR_INVAL		-	接口参数设置错误
 		    -ERR_DISCONNECT	-	未连接
 		    -ERR_BUSY		-	设备忙

*	说明:	超时时间通过配置发送超时定
******************************************************************************/
int sdev_485_send(u8 *buf, u32 count);

/******************************************************************************
*	函数:	sdev_485_recv
*	功能:	485口接收数据
*	参数:	buf				-	接收数据起始指针
			count			-	接收缓冲区长度
*	返回:	>0				-	成功(返回实际发送成功的字节数)
			-ERR_SYS		-	系统错误
			-ERR_INVAL		-	接口参数设置错误
 		    -ERR_DISCONNECT	-	未连接
 		    -ERR_BUSY		-	设备忙
 		    -ERR_NOMEM		-	接口存储空间小---丢帧

*	说明:
******************************************************************************/
int sdev_485_recv(u8 *buf, u32 count, u8 *type, u8 *tel);

/******************************************************************************
*	函数:	sdev_485_sendsmg
*	功能:	无
*	参数:
*	返回:

*	说明:	空函数
******************************************************************************/
int sdev_485_sendsmg(u8 *buf, u32 count, u8 *telnum, u8 tellen);

/******************************************************************************
*	函数:	sdev_485_recvsmg
*	功能:	无
*	参数:
*	返回:	0				-	成功(收到确认命令)
			-ERR_TIMEOUT	-	连接超时

*	说明:	空函数
******************************************************************************/
int sdev_485_recvsmg(u8 *buf, u32 count);
/******************************************************************************
*	函数:	sdev_485_connect
*	功能:
*	参数:	mode			-	连接方式：0创建新连接；1激活重连
*	返回:	0				-	成功(收到确认命令)
			-ERR_TIMEOUT	-	连接超时

*	说明:	无
******************************************************************************/
int sdev_485_connect(u8 mode);

/******************************************************************************
*	函数:	sdev_485_disconnect
*	功能:	无
*	参数:
*	返回:	0				-	成功(收到确认命令)
			-ERR_TIMEOUT	-	连接超时

*	说明:	无
******************************************************************************/
int sdev_485_disconnect(void);

/******************************************************************************
*	函数:	sdev_485_getstat
*	功能:	获得状态
*	参数:
*	返回:	0				-	成功


*	说明:	无
******************************************************************************/
int sdev_485_getstat(u8 cmd, void *stat);

/******************************************************************************
*	函数:	sdev_485_turnon
*	功能:	无
*	参数:
*	返回:	0				-	成功


*	说明:	无
******************************************************************************/
int sdev_485_turnon(void);

/******************************************************************************
*	函数:	sdev_485_turnoff
*	功能:	无
*	参数:
*	返回:

*	说明:	无
******************************************************************************/
int sdev_485_turnoff(void);


/******************************************************************************
*	函数:	sdev_485_poweron
*	功能:	上电
*	参数:
*	返回:	0				-	成功


*	说明:	无
******************************************************************************/
int sdev_485_poweron(void);

/******************************************************************************
*	函数:	sdev_485_poweroff
*	功能:	掉电
*	参数:
*	返回:	0				-	成功


*	说明:	无
******************************************************************************/
int sdev_485_poweroff(void);

/******************************************************************************
*	函数:	sdev_485_reset
*	功能:	无
*	参数:
*	返回:	0				-	成功


*	说明:	无
******************************************************************************/
int sdev_485_reset(void);

#endif /* SDEV_485_H_ */
